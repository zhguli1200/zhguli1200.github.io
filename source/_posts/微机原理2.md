---
title: 微机原理（二）——AT89C52单片机
date: 2020-01-13 10:06:38
tags: 单片机
---




<https://github.com/zhguli1200/zhguli1200.github.io/blob/master/file/AT89C52中文资料.pdf>
{% pdf ../../../../file/AT89C52中文资料.pdf %}
<https://baike.baidu.com/item/AT89C52>
<https://baike.baidu.com/item/89C52>

<!--more-->

# AT89C52单片机的结构和工作原理

AT89C52与MCS-51兼容，它由8个部件组成：
1. 8位CPU               核心（时钟电路24MHz）
2. Flash ROM            8KB
3. RAM                  256B
4. SFR(特殊功能寄存器)  128B（27个）
5. 并行I/O口（P0~P3口） P0和P2兼作外总线
6. 串行口               全双工串行口
7. 定时器/计数器        3个16位
8. 中断系统             6个中断源，2个优先级
    + 中断源由中断系统提供两个、并行接口提供一个、定时计数器提供三个

# AT89C52单片机的引脚功能

## 三种封装：
1. PDIP：双列直插式，编号从左上角开始1~40逆时针编
2. DQFP/TQFP:正方形，切角处逆时针开始编号
3. PLCC

## 引脚功能：
+ 电源：GND接地、Vcc接+5V
+ 时钟电路：XTAL1和XTAL2：芯片使用内部时钟时，外接石英晶体和电容；用外部时钟时，外接外部时钟脉冲信号。
+ 控制信号：
    + RST
    + EA
    + PSEN
    + ALE
+ 端口线P0~P3

# AT89C52单片机各部分的结构与作用要点解析

## CPU

### 运算器

运算器用于实现算数逻辑运算、位变量处理、位移和数据传送等操作
运算器以<u>算术逻辑单元ALU</u>为核心，加上<u>累加器ACC</u>、<u>寄存器B</u>、<u>暂存器TMP1</u>和<u>TMP2</u>、<u>程序状态字PSW</u>以及<u>十进制调整电路</u>和<u>布尔处理器</u>组成。
+ 程序状态字PSW：
    + Cy————PSW.7————进位标志位：在加法运算中最高第八位如果有往前进位，则为1，否则为0；减法中有借位为1，否则为0。向前移位运算中，Cy位为最高第八位的值
    + AC————PSW.6————辅助进位/半进位标志：在加法运算中第四位如果有往前进位，则为1，否则为0；减法亦然。一般用在十进制调整
    + F0————PSW.5————用户标志位
    + RS1———PSW.4————工作寄存器组选择位1
    + RS0———PSW.3————工作寄存器组选择位0
    + OV————PSW.2————溢出标志位：主要针对补码，溢出为1，否则为0
    + &emsp;————PSW.1————未定义位
    + P—————PSW.0————奇偶标志位：累加器ACC中1的个数为奇数时为1，否则为0

### 控制器
控制器是计算机的指挥控制部件
包括<u>程序计数器PC</u>、<u>指令寄存器IR</u>、<u>指令译码器ID</u>、<u>数据指针DPTR</u>、<u>堆栈指针SP</u>以及<u>定时控制与条件转移逻辑电路</u>等。
+ 程序计数器PC：16位，内容是将要执行的下一条指令的地址，寻址范围达64KB。有自动加1功能以顺序执行。
+ 指令寄存器IR：控制器去楼上地址提取程序，给到IR
+ 指令译码器ID：负责对楼上里存放的二进制程序分析、译码
+ 定时控制与条件转移逻辑电路根据楼上的翻译执行操作。(耗时长短的主要决定步骤)
+ 数据指针DPTR：为16位寄存器，存放16位地址，作为访问外部程序存储器和外部数据存储器时的地址
+ 堆栈指针SP：8位寄存器，用于指示堆栈的栈顶，决定着堆栈在内部RAM中的物理位置。
> 堆栈是一种数据结构，是内部RAM的一段区域，存取原则"后进先出"。
> AT89C52单片机的堆栈地址向大的方向变化，系统复位后，SP初值位07H，实际应用中通常根据需要在主程序开始处对SP进行初始化，一般设置SP为30~7FH。

## ※单片机环境下的存储器※
重点，后续章节会详细介绍
准双向：输出可以直接进行，输入需要加上辅助的控制


