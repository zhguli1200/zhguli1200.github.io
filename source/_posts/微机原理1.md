---
title: 微机原理（一）——绪论
date: 2020-01-12 10:02:37
tags: 单片机
---

本系列笔记博客基于[华东理工大学凌志浩——AT89C52单片机原理与接口技术公开课](https://www.bilibili.com/video/av40316887)

<!--more-->

# 单片机

+ 单个大规模、超大规模集成电路原件所构成的计算机。
+ 哈佛型计算机比冯·诺依曼型计算机的优点在于把程序存储器和数据存储器分开来。
+ CPU：
    + 运算器：核心部件为算数/逻辑单元（全加器）；
    + 控制器：发布操作指令的机构，是计算机的指挥中心，控制计算机的各部分协调工作，用以自动执行程序；
    + 若干寄存器：位于处理器内部的少量存储单元。
+ 存储器；
    + ROM：只读存储器——正常工作时只能读，不能写的存储器；
    + RAM：正常工作时既可读，又可写的存储器；
    + 存贮容量=2^地址线条数\*数据线的条数(bit)=字数(存储单元个数)\*字长；
    + 存取周期：存储器从接收到储存单元地址开始，到读取出或写入数据为止所用的时间。
+ I/O接口
+ 总线:
    + 地址总线AB(Address Bus)：传送CPU发出的地址码的单项总线，条数由CPU型号决定，同时决定可直接寻址的内存地址范围；
    + 控制总线：每根控制总线是固定的、单向的，总体是双向的；
    + 数据总线：传输数据和指令码的双向总线，条数一般和微处理器字节相等。

# 微型计算机的运算基础

+ 无符号数；
+ 带符号数的原码：符号位0表示正，1表示负；
+ 反码：正数的反码与原码相同，负数的反码将原码的数值位取反；
+ 补码：正数的补码与原码相同，负数的补码将反码的末位加1，10000000 表示-128。
+ 移码：符号位和补码相反。

## 编码
+ ASCⅡ
+ BCD编码：用四位2进制数表示一位10进制数


## 定点数和浮点数
浮点数小数点的位置可以移动。
计算机在处理定点数时，常把小数点固定在数值位前面或者最后面，即定点纯小数与定点纯整数两类。
浮点数：  
    1. 分为阶码(2的阶码次方)和尾数(0.尾数)，二者皆有正负；
    2. 为了保证精度尾数数值第一位必为1；
    3. 阶码和尾数可用原码、反码或者补码来表示。

## 无符号数的加减乘除
乘法通过移位和加法实现
除法通过减法和移位实现
如果发生最高位进位，则判断为溢出

## 带符号数的运算
一般主要指补码

定点补码运算定律：
> 在没有发生溢出的前提下，[x±y]补=[x]补±[y]补  


补码加法运算溢出判别：
> + 双进位法_（本教材主要用此法判断溢出）_:
&emsp;[x]补+[y]补
>    + if(符号位有进位) C8=1;else C8=0;
>    + if(数值位最高位有进位) C7=1;else C7=0;
>    - OV = C7^C8   /*异或运算*/
>    - if(C8=0,C7=1) 正溢出，结果保留所有进位(比xy多一位)，第n+1位为符号位，剩余n位为数值位
>    - if(C8=1,C7=0) 负溢出，结果保留所有进位，第n+1位为符号位，剩余n位为数值位
>    - if(OV = 0) 未溢出，保留结果的符号位和数值位
>    - if(OV = 1) 8位补码扩展为16位补码来运算
> + 双符号位法————变形码:
> &emsp;用两位来表示符号：00表示正号，11表示符号，称为变形码
> &emsp;[x]补+[y]补:运算结果01代表正溢出，10代表负溢出  


定点补码减法运算:
> [x-y]补=[x+(-y)]补=[x]补+[-y]补
> 1. 将x、y或-y转换为补码
> 2. 进行减法运算，符号位参与运算

BCD码加法：
+ 结果无进位且不超过9，则结果正确；
+ 结果有进位或超过9，则强行加6。
  

BCD码减法：
+ 有借位，减去6

## 逻辑运算
1. 与
&emsp;0^x=0，可用于清零
&emsp;1^x=X，可用于析取数值
2. 或
&emsp;0∨x=x，可用于析取数值
&emsp;1∨x=1，可用于置1
3. 非
&emsp;取反
4. 异或
&emsp;0⊕x=x
&emsp;1⊕x=x的反

# 本课程使用教材：凌志浩.《AT89C52单片机原理与接口技术》.高等教育出版社